name = "overture-geocoder"
main = "src/worker.ts"
compatibility_date = "2024-01-01"

# Global divisions database (forward geocoding)
[[d1_databases]]
binding = "DB_DIVISIONS"
database_name = "geocoder-divisions-global"
database_id = "df77c235-54d1-4f76-b0fe-1e7a3437d0e0"

# Reverse geocoding database
[[d1_databases]]
binding = "DB_DIVISIONS_REVERSE"
database_name = "geocoder-divisions-reverse"
database_id = "07908a36-a6a0-4823-8381-19996691c7d2"

# State-specific address databases (uncomment when created)
# [[d1_databases]]
# binding = "DB_MA"
# database_name = "geocoder-us-ma"
# database_id = "your-database-id-here"

# Uncomment for R2 geometry cache:
# [[r2_buckets]]
# binding = "R2_CACHE"
# bucket_name = "overture-geocoder-cache"

# Rate limiting (60 requests per 60 seconds per IP)
[[ratelimits]]
name = "RATE_LIMITER"
namespace_id = "1001"
simple = { limit = 60, period = 60 }
